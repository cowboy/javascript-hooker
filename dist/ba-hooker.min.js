/* JavaScript Hooker - v0.2.3 - 12/14/2011
 * http://github.com/cowboy/javascript-hooker
 * Copyright (c) 2011 "Cowboy" Ben Alman; Licensed MIT, GPL */
(function(a){function d(){}function e(a,b,d){var e;if(typeof b=="string")b=[b];else if(b==null){b=[];for(e in a)a.hasOwnProperty(e)&&b.push(e)}var f=b.length;while(f--)(c.call(a[b[f]])!=="[object Function]"||d(a,b[f])===!1)&&b.splice(f,1);return b}var b=[].slice,c={}.toString;d.Override=function(a){this.value=a},d.Preempt=function(a){this.value=a},d.Filter=function(a,b){this.context=a,this.args=b},a.override=function(a){return new d.Override(a)},a.preempt=function(a){return new d.Preempt(a)},a.filter=function(a,b){return new d.Filter(a,b)},a.hook=function(c,f,g){return g==null&&(g=f,f=null),typeof g=="function"&&(g={pre:g}),e(c,f,function(c,e){function h(){var h,i,j,k=b.call(arguments);return g.passName&&k.unshift(e),g.pre&&(h=g.pre.apply(this,k)),h instanceof d.Filter?i=h=f.apply(h.context,h.args):h instanceof d.Preempt?i=h=h.value:(i=f.apply(this,arguments),h=h instanceof d.Override?h.value:i),g.post&&(j=g.post.apply(this,[i].concat(k)),j instanceof d.Override&&(h=j.value)),g.once&&a.unhook(c,e),h}var f=c[e];c[e]=h;if(c[e]!==h)return!1;c[e]._orig=f})},a.orig=function(a,b){return a[b]._orig},a.unhook=function(b,c){return e(b,c,function(b,c){var d=a.orig(b,c);if(!d)return!1;b[c]=d})}})(typeof exports=="object"&&exports||this)